<!DOCTYPE html>
<html>
<header>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/two.js/0.6.0/two.min.js"></script>
    <!-- <script src="https://raw.githubusercontent.com/jonobr1/two.js/gh-pages/third-party/url.js"></script> -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.0.0-beta1/jquery.min.js"></script>

    <style>
        body {background-color: rgb(0, 200, 255);}
    </style>

</header>
<body>

<div id="draw-shapes">
</div>

<script type="text/javascript">
    var description = {'faceSize': 50, 'one': {'x':-20,'y':20}, 'two': {'x':20,'y':20}, 'three': {'x':0,'y':0}};

    function move(x,y,grp){
        grp.translation.set(x,y);
    }

    function rotate(theta,grp){
        grp.rotation = theta;
    }

    function makeRoundEye(x,y){
        var eye = two.makeCircle(x,y,5);
        eye.fill = 'rgb(0, 0, 0)';
        // eye.stroke
        return eye;
    }


    function makeDeadEye(x,y){
        // var eye = two.makeCircle(x,y,5);
        // eye.fill = 'rgb(0, 0, 0)';
        // eye.stroke
        var size = 8;
        var thick = 3;
        var left = new Two.Line(x-size,y+size,x+size,y-size);
        var right = new Two.Line(x-size,y-size,x+size,y+size);
        left.stroke = 'black';
        left.linewidth = thick;
        right.linewidth = thick;
        right.stroke = 'black';
        var eye = two.makeGroup(left,right);
        return eye;
    }

    function makeFace(d){
        console.log(d);
        return 'hi';
    }

    // Make an instance of two and place it on the page.
    var elem = document.getElementById('draw-shapes');
    // document.getElementById("draw-shapes").style.background = 'red';
    // autostart: true, fullscreen: true
    var params = { width: 285, height: 200, autostart: true, fullscreen: true };
    var two = new Two(params).appendTo(elem);

    // two has convenience methods to create shapes. circle(x,y,r)
    var face = two.makeCircle(0, 0, 50);
    var eye1 = makeDeadEye(-20,20); //two.makeCircle(-20,20,5);
    var eye2 = makeDeadEye(20,20); //two.makeCircle(20,20,5);
    var eye3 = makeDeadEye(0,0); //two.makeCircle(0,0,5);

    var group = two.makeGroup(face,eye1,eye2,eye3);

    // The object returned has many stylable properties:
    face.fill = 'white'; //'#FF8000';
    face.stroke = 'black'; //'#1C75BC'; //'orangered'; // Accepts all valid css color
    face.linewidth = 5;

    //rotation
    // group.translation.set(100,100);
    // group.rotation = 3.14/2.0;
    // move(100,100,group);
    // rotate(Math.PI / 3.0, group);

    // rect.fill = 'rgb(0, 200, 255)';
    // rect.opacity = 0.75;
    // rect.noStroke();

    // Don't forget to tell two to render everything
    // to the screen
    // two.update();

    two.bind("update", function(frameCount){
        var rot = false;
        var cent = true;

        if(rot){
            rotate(Math.PI*frameCount/60.0, group);
        }
        else if(cent) {
            move(window.innerWidth/2,window.innerHeight/2,group);
        }
    });

    two.play();

</script>

</body>
</html>
